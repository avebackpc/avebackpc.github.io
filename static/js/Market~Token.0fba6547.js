(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Market~Token"],{"4b22":function(e,t,n){"use strict";n("b0c0");var o=n("7a23"),c={class:"tabs"},i={class:"connect-popup-title tab-container"},r={class:"tab-button"},a={for:"tab-favorite-manage",class:"tab-item"},s={for:"tab-group-manage",class:"tab-item"},l={class:"token-info"},u={key:0,class:"icon-token-container"},d=["src"],b=["src"],f={class:"token-symbol"},p=["onClick"],h=["onClick"],g=["onClick"],v={class:"mt-20"},m=["icon"];function j(e,t,n,j,O,k){var $=Object(o["resolveComponent"])("van-tab"),w=Object(o["resolveComponent"])("van-tabs"),y=Object(o["resolveComponent"])("el-table-column"),V=Object(o["resolveComponent"])("el-option"),C=Object(o["resolveComponent"])("el-select"),x=Object(o["resolveComponent"])("el-button"),N=Object(o["resolveComponent"])("el-table"),G=Object(o["resolveComponent"])("el-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(G,{"custom-class":"dialog-zixuan",modelValue:k.show,"onUpdate:modelValue":t[4]||(t[4]=function(e){return k.show=e}),width:"800px"},{title:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",c,[Object(o["createElementVNode"])("div",i,[Object(o["createElementVNode"])("div",r,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"radio",id:"tab-favorite-manage","onUpdate:modelValue":t[0]||(t[0]=function(e){return O.active=e}),value:"1",class:"tab-radio-input"},null,512),[[o["vModelRadio"],O.active]]),Object(o["createElementVNode"])("label",a,Object(o["toDisplayString"])(e.$t("favoriteManage")),1),Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"radio",id:"tab-group-manage","onUpdate:modelValue":t[1]||(t[1]=function(e){return O.active=e}),value:"2",class:"tab-radio-input"},null,512),[[o["vModelRadio"],O.active]]),Object(o["createElementVNode"])("label",s,Object(o["toDisplayString"])(e.$t("groupManage")),1)])])])]})),default:Object(o["withCtx"])((function(){return["1"===O.active?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createVNode"])(w,{class:"fav-tabs",active:O.activeGroup,"onUpdate:active":t[2]||(t[2]=function(e){return O.activeGroup=e}),"line-height":"0","title-active-color":"#fff","title-inactive-color":"#80838B",color:"#558BED",ellipsis:!1,shrink:"",background:"transparent"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])($,{title:e.$t("defaultGroup"),name:0},null,8,["title"]),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(k.groups,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])($,{key:t,title:e.name,name:e.group_id},null,8,["title","name"])})),128))]})),_:1},8,["active"]),Object(o["createVNode"])(N,{class:"table",data:O.favoritesList,style:{width:"100%",padding:"0 15px"},height:"350px"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(y,{label:e.$t("token")},{default:Object(o["withCtx"])((function(t){var n=t.row;return[Object(o["createElementVNode"])("div",l,[e.$f.formatIcon(n)?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",u,[Object(o["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatIcon(n),alt:"",height:"25",onerror:"this.src='/icon-default.png'"},null,8,d),n.network?(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",{key:0,class:"icon-svg icon-symbol",src:"https://www.avestorage.cloud/chain/".concat(n.network,".png"),alt:"",srcset:""},null,8,b)):Object(o["createCommentVNode"])("",!0)])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("span",f,Object(o["toDisplayString"])(n.symbol),1)])]})),_:1},8,["label"]),Object(o["createVNode"])(y,{label:e.$t("changeGroup"),align:"center"},{default:Object(o["withCtx"])((function(t){var n=t.row;return[Object(o["createVNode"])(C,{class:"select3",modelValue:n.activeGroup,"onUpdate:modelValue":function(e){return n.activeGroup=e},placeholder:e.$t("pleaseSelectGroup"),onChange:function(e){return k.confirmSwitchGroup(n,e)}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(V,{label:e.$t("defaultGroup"),value:0,disabled:0===O.activeGroup},null,8,["label","disabled"]),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(k.groups,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(V,{key:e.group_id,label:e.name,value:e.group_id,disabled:O.activeGroup===n.group_id},null,8,["label","value","disabled"])})),128))]})),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","onChange"])]})),_:1},8,["label"]),Object(o["createVNode"])(y,{prop:"name",label:e.$t("sort"),align:"center"},{default:Object(o["withCtx"])((function(t){var n=t.row,c=t.$index;return[Object(o["createVNode"])(x,{type:"text",size:"large",disabled:0===c,onClick:Object(o["withModifiers"])((function(e){return k.tokenSetTop(n,c)}),["stop"])},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("top")),1)]})),_:2},1032,["disabled","onClick"]),Object(o["createVNode"])(x,{type:"text",size:"large",disabled:0===c,onClick:Object(o["withModifiers"])((function(e){return k.changeFavoritesIndex(n,c,-1)}),["stop"])},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("up")),1)]})),_:2},1032,["disabled","onClick"]),Object(o["createVNode"])(x,{type:"text",size:"large",disabled:c+1===O.favoritesList.length,onClick:Object(o["withModifiers"])((function(e){return k.changeFavoritesIndex(n,c,1)}),["stop"])},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("down")),1)]})),_:2},1032,["disabled","onClick"])]})),_:1},8,["label"]),Object(o["createVNode"])(y,{label:e.$t("remark"),"show-overflow-tooltip":"",align:"right"},{default:Object(o["withCtx"])((function(e){var t=e.row;return[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(t.remark),1)]})),_:1},8,["label"]),Object(o["createVNode"])(y,{align:"left"},{default:Object(o["withCtx"])((function(t){var n=t.row;return[Object(o["createElementVNode"])("a",{href:"",onClick:Object(o["withModifiers"])((function(e){return k.handleEditRemark(n)}),["stop","prevent"])},Object(o["toDisplayString"])(e.$t("edit")),9,p)]})),_:1})]})),_:1},8,["data"])],64)):"2"===O.active?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[Object(o["createVNode"])(N,{data:k.groups,style:{width:"100%",padding:"0 15px","margin-top":"10px"},height:"350px",class:"table"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(y,{label:e.$t("groupName"),prop:"name"},null,8,["label"]),Object(o["createVNode"])(y,{label:e.$t("rename"),align:"center"},{default:Object(o["withCtx"])((function(t){var n=t.row;return[Object(o["createElementVNode"])("a",{href:"",onClick:Object(o["withModifiers"])((function(e){return k.rename(n)}),["stop","prevent"])},Object(o["toDisplayString"])(e.$t("edit")),9,h)]})),_:1},8,["label"]),Object(o["createVNode"])(y,{prop:"name",label:e.$t("sort"),align:"center"},{default:Object(o["withCtx"])((function(t){var n=t.row,c=t.$index;return[Object(o["createVNode"])(x,{size:"large",type:"text",disabled:0===c,onClick:Object(o["withModifiers"])((function(e){return k.setTopFavoriteGroup(n,c)}),["stop"])},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("top")),1)]})),_:2},1032,["disabled","onClick"]),Object(o["createVNode"])(x,{type:"text",size:"large",disabled:0===c,onClick:Object(o["withModifiers"])((function(e){return k.changeIndexFavoriteGroup(n,c,-1)}),["stop"])},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("up")),1)]})),_:2},1032,["disabled","onClick"]),Object(o["createVNode"])(x,{type:"text",size:"large",disabled:c+1===k.groups.length,onClick:Object(o["withModifiers"])((function(e){return k.changeIndexFavoriteGroup(n,c,1)}),["stop"])},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("down")),1)]})),_:2},1032,["disabled","onClick"])]})),_:1},8,["label"]),Object(o["createVNode"])(y,{label:e.$t("operate"),align:"center"},{default:Object(o["withCtx"])((function(t){var n=t.row;return[Object(o["createElementVNode"])("a",{href:"",onClick:Object(o["withModifiers"])((function(e){return k.removeFavoriteGroup(n)}),["stop","prevent"])},Object(o["toDisplayString"])(e.$t("delete")),9,g)]})),_:1},8,["label"])]})),_:1},8,["data"]),Object(o["createElementVNode"])("div",v,["2"===O.active?(Object(o["openBlock"])(),Object(o["createElementBlock"])("a",{key:0,class:"manage",icon:e.Plus,onClick:t[3]||(t[3]=Object(o["withModifiers"])((function(t){return e.confirmChangeName("add")}),["stop"]))},Object(o["toDisplayString"])(e.$t("newGroup")),9,m)):Object(o["createCommentVNode"])("",!0)])],64)):Object(o["createCommentVNode"])("",!0)]})),_:1},8,["modelValue"])}var O=n("5530"),k=n("1da1"),$=(n("96cf"),n("d81d"),n("d3b7"),n("ac1f"),n("5319"),n("0b33")),w=n("5e46"),y=n("365c"),V={name:"FavoriteManage",props:{visible:Boolean},components:{"van-tab":$["a"],"van-tabs":w["a"]},data:function(){return{active:"1",activeTab:"1",activeGroup:0,visible1:!1,visible2:!1,visible3:!1,visible4:!1,selectedToken:{},favoritesList:[],curGroup:{},actions:[{name:"Token",value:"1"},{name:"NFT",value:"2"}],curRemark:"",curToken:{},selectGroup:0}},computed:{show:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}},groups:function(){return this.$store.state.userFavoriteGroups}},watch:{"$route.params.type":function(e){"1"===e&&this.getUserFavorites()},activeGroup:function(e){this.getUserFavorites(),this.selectGroup=e},groups:{handler:function(){this.activeGroup=0},deep:!0},"$store.state.currentAccount":function(e){e&&this.getUserFavorites()}},created:function(){this.getUserFavorites()},methods:{init:function(){this.getUserFavorites()},getUserFavorites:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(y["y"])(e.activeGroup).catch(Object(k["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)}))));case 2:e.favoritesList=t.sent.map((function(t){return Object(O["a"])(Object(O["a"])({},t),{},{id:t.token+"-"+t.chain,address:t.token,network:t.chain,priceChange24h:null!==t&&void 0!==t&&t.price_change?(null===t||void 0===t?void 0:t.price_change)/100:0,priceUSD:(null===t||void 0===t?void 0:t.current_price_usd)||0,activeGroup:e.activeGroup})}));case 3:case"end":return t.stop()}}),t)})))()},switchGroup:function(e){this.selectedToken=e,this.visible1=!0},tokenSetTop:function(e,t){var n=this;if(0!==t){var o=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object(y["i"])(e.token+"-"+e.chain,this.activeGroup).then((function(){n.getUserFavorites(),n.$message.success(n.$t("success"))})).catch((function(){n.$message.error(n.$t("fail"))})).finally((function(){o.close()}))}},changeFavoritesIndex:function(e,t,n){var o=this;if(this.$f.verifyLogin()){var c=e.token+"-"+e.chain,i=t+n;if(!(i<0||i+1>this.favoritesList.length)){var r=this.favoritesList[i],a=r.token+"-"+r.chain,s=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object(y["h"])(c,a,this.activeGroup).then((function(){o.getUserFavorites(),o.$message.success(o.$t("success"))})).catch((function(e){console.log(e),o.$message.error(o.$t("fail"))})).finally((function(){s.close()}))}}},confirmSwitchGroup:function(e,t){var n=this;if(this.$f.verifyLogin())if(this.activeGroup!==t){var o=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object(y["rb"])(e.token+"-"+e.chain,t).then((function(){n.getUserFavorites(),n.selectGroup=n.activeGroup,n.$store.dispatch("getUserFavorites"),n.$message.success(n.$t("success"))})).catch((function(e){console.log(e),n.$message.error(n.$t("fail"))})).finally((function(){o.close()}))}else this.visible1=!1},addFavoriteGroup:function(e){var t=this;if(this.$f.verifyLogin()){var n=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object(y["c"])(e).then((function(){t.$store.dispatch("getUserTokenFavoriteGroups"),t.$message.success(t.$t("success")),t.visible2=!1})).catch((function(e){console.log(e),t.$message.error(t.$t("fail"))})).finally((function(){n.close()}))}},removeFavoriteGroup:function(e){var t=this;this.$f.verifyLogin()&&this.$confirm(this.$t("removeFavGroupTips"),this.$t("tips"),{confirmButtonText:this.$t("confirm"),cancelButtonText:this.$t("cancel"),dangerouslyUseHTMLString:!0}).then((function(){var n=t.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object(y["ub"])(e.group_id).then((function(){t.$store.dispatch("getUserTokenFavoriteGroups"),t.getUserFavorites(),t.$message.success(t.$t("success")),t.visible2=!1})).catch((function(e){console.log(e),t.$message.error(t.$t("fail"))})).finally((function(){n.close()}))})).catch((function(){}))},setTopFavoriteGroup:function(e,t){var n=this;if(this.$f.verifyLogin()&&0!==t){var o=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object(y["wb"])(e.group_id).then((function(){n.$store.dispatch("getUserTokenFavoriteGroups"),n.$message.success(n.$t("success"))})).catch((function(){n.$message.error(n.$t("fail"))})).finally((function(){o.close()}))}},changeIndexFavoriteGroup:function(e,t,n){var o=this;if(this.$f.verifyLogin()){var c=e.group_id,i=t+n;if(!(i<0||i+1>this.groups.length)){var r=this.groups[i],a=r.group_id,s=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object(y["j"])(c,a).then((function(){o.$store.dispatch("getUserTokenFavoriteGroups"),o.visible3=!1,o.$message.success(o.$t("success"))})).catch((function(e){console.log(e),o.$message.error(o.$t("fail"))})).finally((function(){s.close()}))}}},rename:function(e){var t=this;this.$prompt("",this.$t("enterGroupName"),{confirmButtonText:this.$t("confirm1"),cancelButtonText:this.$t("cancel")}).then((function(n){var o=n.value;t.changeFavoriteGroupName(o,e.group_id)})).catch((function(){}))},changeFavoriteGroupName:function(e,t){var n=this;if(this.$f.verifyLogin()){var o=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object(y["g"])(e,t).then((function(){n.$store.dispatch("getUserTokenFavoriteGroups"),n.$message.success(n.$t("success"))})).catch((function(e){console.log(e),n.$message.error(n.$t("fail"))})).finally((function(){o.close()}))}},select:function(e){this.$router.replace({name:"FavoriteManage",params:{type:e.value,id:this.$route.params.id||"1"}})},handleEditRemark:function(e){var t=this,n=e.token+"-"+e.chain;this.$prompt("",this.$t("enterRemark"),{confirmButtonText:this.$t("confirm1"),cancelButtonText:this.$t("cancel")}).then((function(e){var o=e.value;t.confirmEditRemark(o,n)})).catch((function(){}))},confirmEditRemark:function(e,t){var n=this;if(this.$f.verifyLogin()){var o=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object(y["n"])(t,e).then((function(){n.getUserFavorites(),n.visible4=!1,n.$message.success(n.$t("success"))})).catch((function(e){console.log(e),n.$message.error(n.$t("fail"))})).finally((function(){o.close()}))}}}},C=(n("a636"),n("c067"),n("6b0d")),x=n.n(C);const N=x()(V,[["render",j],["__scopeId","data-v-ccfb9ce4"]]);t["a"]=N},"5c40":function(e,t,n){},"8ef8":function(e,t,n){},a636:function(e,t,n){"use strict";n("d606")},c067:function(e,t,n){"use strict";n("5c40")},c3ff:function(e,t,n){"use strict";n("b0c0");var o=n("7a23"),c={style:{"text-align":"right",width:"100%"}};function i(e,t,n,i,r,a){var s=Object(o["resolveComponent"])("el-radio"),l=Object(o["resolveComponent"])("el-radio-group"),u=Object(o["resolveComponent"])("el-button"),d=Object(o["resolveComponent"])("el-form-item"),b=Object(o["resolveComponent"])("el-input"),f=Object(o["resolveComponent"])("el-form"),p=Object(o["resolveComponent"])("el-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(p,{modelValue:a.show,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.show=e}),title:n.title,width:"400px"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{ref:"formRef","label-width":"auto",onSubmit:Object(o["withModifiers"])(a.select,["prevent"])},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{label:""},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(l,{modelValue:r.checked,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.checked=e})},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{label:0},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("defaultGroup")),1)]})),_:1}),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.groups,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:t,label:e.group_id},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.name),1)]})),_:2},1032,["label"])})),128))]})),_:1},8,["modelValue"]),Object(o["createVNode"])(u,{class:"icon-add-btn",icon:e.Plus,onClick:t[1]||(t[1]=Object(o["withModifiers"])((function(t){return e.confirmChangeName("add")}),["stop"]))},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("newGroup")),1)]})),_:1},8,["icon"])]})),_:1}),n.isRemark?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0,label:""},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.remark,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.remark=e}),modelModifiers:{trim:!0},autosize:"",rows:"1",type:"textarea",placeholder:e.$t("enterRemark"),clearable:""},null,8,["modelValue","placeholder"])]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",c,[Object(o["createVNode"])(u,{onClick:t[3]||(t[3]=Object(o["withModifiers"])((function(e){return a.show=!1}),["stop"]))},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("cancel")),1)]})),_:1}),Object(o["createVNode"])(u,{type:"primary",loading:r.loading,"native-type":"submit"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("confirm1")),1)]})),_:1},8,["loading"])])]})),_:1})]})),_:1},8,["onSubmit"])]})),_:1},8,["modelValue","title"])}n("a9e3"),n("d3b7");var r=n("365c"),a={name:"ChangeGroup",props:{visible:Boolean,title:{type:String,default:""},type:{type:String,default:"1"},isRemark:{type:Boolean,default:!1},selected:{type:[String,Number],default:0},groups:{type:Array,default:function(){return[]}}},components:{},emits:["update:visible","update:selected","select"],data:function(){return{checked:this.initSelected,visible1:!1,remark:"",loading:!1}},computed:{show:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}},initSelected:{get:function(){return this.selected},set:function(e){this.$emit("update:selected",e)}}},watch:{show:function(e){e&&(this.checked=this.initSelected)}},methods:{select:function(){this.isRemark?this.$emit("select",this.checked,this.remark):this.$emit("select",this.checked)},addFavoriteGroup:function(e){"1"===this.type?this.addTokenFavoriteGroup(e):"2"===this.type&&this.addNftFavoriteGroup(e)},addTokenFavoriteGroup:function(e){var t=this;this.$f.verifyLogin()&&(this.loading=!0,Object(r["c"])(e).then((function(){t.$store.dispatch("getUserTokenFavoriteGroups"),t.$message.success(t.$t("success")),t.visible1=!1})).catch((function(e){console.log(e),t.$message.error(t.$t("fail"))})).finally((function(){t.loading=!1})))},addNftFavoriteGroup:function(e){var t=this;this.$f.verifyLogin()&&(this.loading=!0,Object(r["d"])(e).then((function(){t.$store.dispatch("getUserNftFavoriteGroups"),t.$message.success(t.$t("success")),t.visible1=!1})).catch((function(e){console.log(e),t.$message.error(t.$t("fail"))})).finally((function(){t.loading=!1})))}}},s=(n("c639"),n("6b0d")),l=n.n(s);const u=l()(a,[["render",i],["__scopeId","data-v-364ae628"]]);t["a"]=u},c639:function(e,t,n){"use strict";n("8ef8")},d606:function(e,t,n){}}]);